/*C12*/SET SCHEMA PUBLIC
drop table if exists atleta CASCADE 
drop table if exists campo CASCADE 
drop table if exists debito CASCADE 
drop table if exists fascia_oraria CASCADE 
drop table if exists prenotazione CASCADE 
drop table if exists prenotazione_fasciaoraria CASCADE 
create table atleta (id bigint generated by default as identity (start with 1), admin boolean not null, cognome varchar(255) not null, email varchar(255) not null, livello varchar(255), nome varchar(255) not null, password varchar(255) not null, telefono bigint not null, username varchar(255) not null, primary key (id))
create table campo (id bigint generated by default as identity (start with 1), nome varchar(255) not null, primary key (id))
create table debito (id bigint generated by default as identity (start with 1), descrizione varchar(255), importo integer, atleta bigint, primary key (id))
create table fascia_oraria (id bigint generated by default as identity (start with 1), fine varchar(255), inizio varchar(255), primary key (id))
create table prenotazione (id bigint generated by default as identity (start with 1), giorno date, libera boolean, nome varchar(255), tipo varchar(255), atleta bigint, campo bigint, primary key (id))
create table prenotazione_fasciaoraria (prenotazione_id bigint not null, fasciaoraria_id bigint not null)
alter table debito add constraint FKkfvm1017d96yu19sajh5ltsd1 foreign key (atleta) references atleta
alter table prenotazione add constraint FKekmo5yjbod49ai7t8723fddtr foreign key (atleta) references atleta
alter table prenotazione add constraint FKpywhn5863lnc64l77s6qv2fe1 foreign key (campo) references campo
alter table prenotazione_fasciaoraria add constraint FKkxy8ahf6od2n8ugj0gwwgyaio foreign key (fasciaoraria_id) references fascia_oraria
alter table prenotazione_fasciaoraria add constraint FKc7csklq6y54uv3xe5g5s9ndqo foreign key (prenotazione_id) references prenotazione
INSERT INTO ATLETA VALUES(1,FALSE,'Bellizzi','marcobellizzi96@gmail.com','principiante','Marco','password123',3284686896,'Marco Bellizzi')
COMMIT
INSERT INTO ATLETA VALUES(2,FALSE,'Bellizzi','domenico.bellizzi@outlook.com','principiante','Niki','password123',3486851557,'Niki Bellizzi')
COMMIT
INSERT INTO ATLETA VALUES(3,FALSE,'Bellizzi','ivan@gmail.com','principiante','Ivan','password123',3409952509,'Ivan Bellizzi')
COMMIT
INSERT INTO ATLETA VALUES(4,TRUE,'Meccico','andreaMeccico@gmail.com','avanzato','Andrea','password123',3518024114,'Andrea Meccico')
COMMIT
INSERT INTO ATLETA VALUES(5,TRUE,'Meccico','vittorioMeccico@gmail.com','avanzato','Vittorio','password123',3896524116,'Vittorio Meccico')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(1,'8:30','8:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(2,'9:00','8:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(3,'9:30','9:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(4,'10:00','9:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(5,'10:30','10:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(6,'11:00','10:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(7,'11:30','11:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(8,'12:00','11:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(9,'12:30','12:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(10,'13:00','12:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(11,'13:30','13:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(12,'14:00','13:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(13,'14:30','14:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(14,'15:00','14:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(15,'15:30','15:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(16,'16:00','15:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(17,'16:30','16:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(18,'17:00','16:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(19,'17:30','17:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(20,'18:00','17:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(21,'18:30','18:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(22,'19:00','18:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(23,'19:30','19:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(24,'20:00','19:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(25,'20:30','20:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(26,'21:00','20:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(27,'21:30','21:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(28,'22:00','21:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(29,'22:30','22:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(30,'23:00','22:30')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(31,'23:30','23:00')
COMMIT
INSERT INTO FASCIA_ORARIA VALUES(32,'24:00','23:30')
COMMIT
INSERT INTO CAMPO VALUES(1,'Tennis Terra 1')
COMMIT
INSERT INTO CAMPO VALUES(2,'Tennis Terra 2')
COMMIT
INSERT INTO CAMPO VALUES(3,'Tennis Coperto')
COMMIT
INSERT INTO CAMPO VALUES(4,'Tennis e Calcetto')
COMMIT
INSERT INTO CAMPO VALUES(5,'Calcetto')
COMMIT
INSERT INTO PRENOTAZIONE VALUES(1,'2021-02-21',FALSE,NULL,NULL,2,2)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(1,4)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(1,5)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(1,6)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(1,7)
COMMIT
/*C13*/SET SCHEMA PUBLIC
INSERT INTO PRENOTAZIONE VALUES(2,'2021-02-25',FALSE,NULL,NULL,2,2)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(2,4)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(2,5)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(2,6)
COMMIT
DELETE FROM PRENOTAZIONE_FASCIAORARIA WHERE PRENOTAZIONE_ID=2 AND FASCIAORARIA_ID=4
DELETE FROM PRENOTAZIONE_FASCIAORARIA WHERE PRENOTAZIONE_ID=2 AND FASCIAORARIA_ID=5
DELETE FROM PRENOTAZIONE_FASCIAORARIA WHERE PRENOTAZIONE_ID=2 AND FASCIAORARIA_ID=6
DELETE FROM PRENOTAZIONE WHERE ID=2
COMMIT
/*C15*/SET SCHEMA PUBLIC
INSERT INTO PRENOTAZIONE VALUES(3,'2021-02-21',FALSE,NULL,NULL,2,2)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(3,1)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(3,2)
COMMIT
/*C12*/DELETE FROM PRENOTAZIONE_FASCIAORARIA WHERE PRENOTAZIONE_ID=1 AND FASCIAORARIA_ID=4
DELETE FROM PRENOTAZIONE_FASCIAORARIA WHERE PRENOTAZIONE_ID=1 AND FASCIAORARIA_ID=5
DELETE FROM PRENOTAZIONE_FASCIAORARIA WHERE PRENOTAZIONE_ID=1 AND FASCIAORARIA_ID=6
DELETE FROM PRENOTAZIONE_FASCIAORARIA WHERE PRENOTAZIONE_ID=1 AND FASCIAORARIA_ID=7
DELETE FROM PRENOTAZIONE WHERE ID=1
COMMIT
DELETE FROM PRENOTAZIONE_FASCIAORARIA WHERE PRENOTAZIONE_ID=3 AND FASCIAORARIA_ID=1
DELETE FROM PRENOTAZIONE_FASCIAORARIA WHERE PRENOTAZIONE_ID=3 AND FASCIAORARIA_ID=2
DELETE FROM PRENOTAZIONE WHERE ID=3
COMMIT
/*C14*/SET SCHEMA PUBLIC
INSERT INTO PRENOTAZIONE VALUES(4,'2021-02-21',FALSE,NULL,NULL,5,2)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(4,4)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(4,5)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(4,6)
COMMIT
/*C15*/INSERT INTO PRENOTAZIONE VALUES(5,'2021-02-21',FALSE,NULL,NULL,2,3)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(5,3)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(5,4)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(5,5)
COMMIT
/*C13*/INSERT INTO PRENOTAZIONE VALUES(6,'2021-02-21',TRUE,'Prova','Calcio',4,4)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(6,3)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(6,4)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(6,5)
COMMIT
/*C15*/INSERT INTO DEBITO VALUES(1,'prova',100,2)
COMMIT
/*C13*/INSERT INTO PRENOTAZIONE VALUES(7,'2021-02-21',FALSE,NULL,NULL,5,1)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(7,1)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(7,2)
INSERT INTO PRENOTAZIONE_FASCIAORARIA VALUES(7,3)
COMMIT
/*C14*/DELETE FROM DEBITO WHERE ID=1
COMMIT
/*C13*/DISCONNECT
/*C14*/DISCONNECT
/*C17*/SET SCHEMA PUBLIC
DISCONNECT
/*C18*/SET SCHEMA PUBLIC
DISCONNECT
/*C19*/SET SCHEMA PUBLIC
DISCONNECT
/*C16*/SET SCHEMA PUBLIC
DISCONNECT
/*C21*/SET SCHEMA PUBLIC
DISCONNECT
/*C12*/DISCONNECT
/*C20*/SET SCHEMA PUBLIC
DISCONNECT
/*C15*/DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
